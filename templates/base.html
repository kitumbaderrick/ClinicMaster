{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block head_title %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      body {
        font-family: "Lato", sans-serif;
      }
      
      /* Fixed sidenav, full height */
      .sidenav {
        height: 100%;
        width: 200px;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: rgb(46, 101, 211);
        overflow-x: hidden;
        padding-top: 20px;
       
      }
      
      /* Style the sidenav links and the dropdown button */
      .sidenav a, .dropdown-btn {
        padding: 10px 10px 10px 22px;
        text-decoration: none;
        font-size: 20px;
        color: white;
        display: block;
        border: none;
        background: none;
        width: 100%;
        text-align: left;
        cursor: pointer;
        outline: none;
      }
      
      /* On mouse-over */
      .sidenav a:hover, .dropdown-btn:hover {
        color: #f1f1f1;
      }
      
      /* Main content */
      .main {
        margin-left: 200px; /* Same as the width of the sidenav */
        font-size: 20px; /* Increased text to enable scrolling */
        padding: 0px 10px;
      }
      
      /* Add an active class to the active dropdown button */
       .activedrop {
        background-color: rgb(19, 0, 128);
        color: white;
      }
      
      /* Dropdown container (hidden by default). Optional: add a lighter background color and some left padding to change the design of the dropdown content */
      .dropdown-container {
        display: none;
        background-color: #262626;
        padding-left: 8px;
      }
      
      /* Optional: Style the caret down icon */
      .fa-caret-down {
        float: right;
        padding-right: 8px;
      }
      
      /* Some media queries for responsiveness */
      @media screen and (max-height: 450px) {
        .sidenav {padding-top: 15px;}
        .sidenav a {font-size: 18px;}
      }
      </style>
  </head>
  <body>
      <div class="container">
          <div class="row">
              <div class="col-6 mx-auto">
                <h1>{{title}}</h1>
                <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-danger">
                  <a class="navbar-brand" href="#"><img src="{% static 'icoCM.ico'%}" height="50px";width=50px;></a>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
                          aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                  </button>
              
                  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
                      <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
                            File 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white " href="#">New </a>
                            <a class="dropdown-item text-white" href="#">Edit</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
                            View 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white" href="#">Copy </a>
                            <a class="dropdown-item text-white" href="#">Cut</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown active">
                          <a class="nav-link dropdown-toggle active"  href="#" id="navbardrop" data-toggle="dropdown">
                            Set Up 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white" href="#">Lookup Data </a>
                            <a class="dropdown-item text-white" href="#">New</a>
                            <a class="dropdown-item text-white" href="#">Edit</a>
                            <a class="dropdown-item text-white" href="#">Exchange Rates </a>
                            <a class="dropdown-item text-white" href="#">New  Drug BarCodes</a>
                            <a class="dropdown-item text-white" href="#">New Consumable BarCodes </a>
                            <a class="dropdown-item text-white" href="#">Integration Agents</a>
                            <a class="dropdown-item text-white" href="#">Import</a>
                            <a class="dropdown-item text-white" href="#">Security</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
                            Reports 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white" href="#">Payments </a>
                            <a class="dropdown-item text-white" href="#">Invoices</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
                            Tools 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white" href="#">Calender </a>
                            <a class="dropdown-item text-white" href="#">DashBoard</a>
                          </div>
                        </li>
                        <li class="nav-item dropdown">
                          <a class="nav-link dropdown-toggle active" href="#" id="navbardrop" data-toggle="dropdown">
                            Window 
                          </a>
                          <div class="dropdown-menu bg-danger">
                            <a class="dropdown-item text-white" href="#">Cascade </a>
                            <a class="dropdown-item text-white" href="#">Tile</a>
                          </div>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link active text-warning" href="#">Location</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link active text-warning" href="#">Chat</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link active text-warning" href="#">help</a>
                        </li>
                          {% if not user.is_authenticated %}
                              <li class="nav-item">
                                  <a class="nav-link active" href="">Session Ended</a>
                              </li>
                          {% endif %}
                      </ul>
                      {% if user.is_authenticated %}
                          <ul class="navbar-nav mr-right">
                              <li class="nav-item">
                                  <a class="nav-link">Logged in as {{ user.username }}</a>
                              </li>
                              <form class="form-inline my-2 my-lg-0" action="{% url 'auth_logout' %}" method="POST">
                                  {% csrf_token %}
                                  <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Logout</button>
                              </form>
                          </ul>
                      {% else %}
                          <!-- <form class="form-inline my-2 my-lg-0" action="" method="POST">
                              {% csrf_token %}
                              <input class="form-control mr-sm-2" type="text" placeholder="Username" aria-label="Username"
                                     name="username" id="id_username">
                              <input class="form-control mr-sm-2" type="password" placeholder="Password" aria-label="Password"
                                     name="password" id="id_password">
                              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Sign in</button>
                          </form> -->
                          
                      {% endif %}
                  </div>
              </nav>
              <div class="sidenav">
                <a href="/patients">Patients</a>
                <a href="/patients">Patients</a>
                <a href="">Visits</a>
                <a href="">Extras</a>
                <button class="dropdown-btn">Triage 
                  <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-container">
                  <a href="#">New</a>
                  <a href="#">Edit</a>
        
                </div>
                <a href="#contact">Cashier</a>
                <a href="#contact">Invoices</a>
                <a href="#contact">Doctor</a>
                <button class="dropdown-btn">Laboratory 
                  <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-container">
                  <a href="#">New</a>
                  <a href="#">Edit</a>
              </div>
              <button class="dropdown-btn">Cardiology 
                <i class="fa fa-caret-down"></i>
              </button>
              <div class="dropdown-container">
                <a href="#">New</a>
                <a href="#">Edit</a>
                </div>
                <button class="dropdown-btn">Radiology 
                  <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-container">
                  <a href="#">New</a>
                  <a href="#">Edit</a>
                  </div>
                  <button class="dropdown-btn">Pharmacy 
                    <i class="fa fa-caret-down"></i>
                  </button>
                  <div class="dropdown-container">
                    <a href="#">New</a>
                    <a href="#">Edit</a>
                    </div>
                    <button class="dropdown-btn">Inventory 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-container">
                      <a href="#">New</a>
                      <a href="#">Edit</a>
                    </div>
                    <button class="dropdown-btn">Theatre 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-container">
                      <a href="#">New</a>
                      <a href="#">Edit</a>
                    </div>
                    <button class="dropdown-btn">Dental 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-container">
                      <a href="#">New</a>
                      <a href="#">Edit</a>
                    </div>
                    <button class="dropdown-btn">Appointments 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-container">
                      <a href="#">New</a>
                      <a href="#">Edit</a>
                    </div>
                    <button class="dropdown-btn">In Patients 
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-container">
                      <a href="#">New</a>
                      <a href="#">Edit</a>
                    </div>
                  </div>
    
              </div>
          </div>
      </div>
      {% block content %}
                
      {% endblock %}
      <script>
        /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
        var dropdown = document.getElementsByClassName("dropdown-btn");
        var i;
        
        for (i = 0; i < dropdown.length; i++) {
          dropdown[i].addEventListener("click", function() {
            this.classList.toggle("activedrop");
            var dropdownContent = this.nextElementSibling;
            if (dropdownContent.style.display === "block") {
              dropdownContent.style.display = "none";
            } else {
              dropdownContent.style.display = "block";
            }
          });
        }
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>